<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="google-site-verification" content="M2S6XRgNZy5AWcjY2MUVhaCDJ8uDRDkHfly4lnaz-lI"><meta name="viewport" content="width=device-width"><title>Schemaless scheduling for repeated events - Tushar Mathur's blog</title><link rel="alternate" href="//feed.xml" type="application/rss+xml" title="A software developer, physics enthusiast, swimmer and a car geek"><link rel="stylesheet" href="/bg.svg" type="image/svg"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lora:400,500,700,400italic,700italic|Anonymous+Pro:400,700,400italic,700italic|Merriweather:400,700,300"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.1.0/styles/default.min.css"><link rel="stylesheet" href="/css/main.css" type="text/css"><script>(function(i,s,o,g,r,a,m){i['MeanAdsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].g=g,i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//mean-ads-develop.herokuapp.com/static/lib/meanads-sdk.js','ma');</script><script>var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-39050808-1']);
_gaq.push(['_trackPageview']);

(function() {
var ga = document.createElement('script');
ga.type = 'text/javascript';
ga.async = true;
ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
var s = document.getElementsByTagName('script')[0];
s.parentNode.insertBefore(ga, s);
})();

</script></head><body class="article-detail"><header class="header"><div class="top-nav"><div class="red-line"></div><ul><li><a href="/">Home</a></li><li><a href="/projects.html">Projects</a></li><li><a href="/archive.html">Archives</a></li><li><a href="/about.html">About Me</a></li></ul></div><div class="content-wrap"><div class="logo"><h1><a href="/">Tushar Mathur's blog</a></h1><p class="description">A software developer, physics enthusiast, swimmer and a car geek</p></div></div></header><div id="content"><div class="content-wrap"><div id="ad-container"></div><article class="article"><section class="content"><p>Consider a case where one wants to schedule repeated events in a calendar. For example - a yearly birthday or a fortnightly appointment with the dentist. Though, these cases are quite simple and most of the current solutions such as — Google Calendar, handles them quite well, the problem arises when you want to integrate a system like this with your own<span class="widont">&nbsp;</span>application.</p>
<p>This stackoverflow question — <a href="http://stackoverflow.com/questions/5183630/calendar-recurring-repeating-events-best-storage-method">Calendar Recurring/Repeating Events - Best Storage Method</a> — gives a good picture of the complexity of the<span class="widont">&nbsp;</span>problem.</p>
<p>One thing that I observed, is that you could draw parallels between this problem and the problem of selecting elements in a <span class="caps">DOM</span> tree. The latter been solved already using css selectors. So I started developing a language inspired by <span class="caps">CSS</span> Selectors but tailored for selecting<span class="widont">&nbsp;</span>dates.</p>
<p>This language ultimately gave me a lot of flexibility in terms of writing repetition logic and applying filters. Moreover this setup din’t require any complex schema and thus no schema migrations, with every new feature. Its just one rule, defining any convoluted logic as you may like and still taking up only a single row in the<span class="widont">&nbsp;</span>table.</p>
<p>The <a href="https://github.com/tusharmath/sheql/wiki/Rules">rules</a> for the language (Named it <span class="caps">SHEQL</span>) and a parser prototype has been <a href="https://github.com/tusharmath/sheql">open sourced</a> and is also available via npm. Though the prototype has been written in javascript one could easily write a version in python or some other<span class="widont">&nbsp;</span>language.</p>
</section></article></div></div><footer><div class="content-wrap"><div class="nav"><a href="/projects.html">« Projects</a></div><div id="disqus_thread"></div><script>/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
var disqus_shortname = 'tusharmcom'; // required: replace example with your forum shortname
/* * * DON'T EDIT BELOW THIS LINE * * */
(function() {
var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><noscript>| Please enable JavaScript to view the
a(href='http://disqus.com/?ref_noscript') comments powered by Disqus.</noscript><a class="dsq-brlink" href="http://disqus.com"><span class="logo-disqus"></span></a><script>var program = '5461009dd8e3490200110149';
var element = document.getElementById('ad-container');
ma('ad', program, element);</script><section class="about"><p>I constantly try to make my everyday tasks simpler and more productive, that’s why I love developing apps for free. Checkout the list of my <a href="/projects.html">projects</a> or click <a href="/about.html">here</a> to know more about me.</p>
<p>In my leisure time I like to learn about physics and cars. I practice swimming and like to be a gourmet from time to time.</p>
<br><div><a class="twitter-follow-button" href="https://twitter.com/tusharmath" data-show-count="false">Follow @tusharmath</a></div><div><iframe src="//ghbtns.com/github-btn.html?user=tusharmath&amp;type=follow" allowtransparency="true" frameborder="0" scrolling="0" width="132" height="20"></iframe></div></section><section class="copy"><p>&copy; 2020 Tushar Mathur<span> powered by&nbsp;</span><a href="http://wintersmith.io">Wintersmith</a></p></section></div></footer><script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.1.0/highlight.min.js"></script><script src="/js/analytics.js"></script></body></html>